<h1 class="h4 titulo">Dados para Entrega</h1>
<div class="form-inline">
  <label for="inputCep" class="sr-only">CEP</label>
  <input type="search" id="inputCep"
         name="cep"
         placeholder="CEP"
         class="form-control mb-2 col-md-3"
         [ngClass]="{
          'is-invalid': cep.invalid && (cep.dirty || cep.touched),
          'is-valid': cep.valid && (cep.dirty || cep.touched)
       }"
         [(ngModel)]="pedido.cep"
         #cep="ngModel"
         maxlength="8"
         required />
  <button class="btn btn-primary mb-2" style="margin-right:4px;" (click)="pesquisacep(pedido.cep)" [disabled]="ativar_spinner">
    <span class="spinner-border spinner-border-sm" *ngIf="ativar_spinner"></span>
    Pesquisar
  </button>
  <div class="invalid-feedback mb-2" *ngIf="cep.invalid && (cep.dirty || cep.touched)">
    <div *ngIf="cep.errors.required">
      Por favor, informe um CEP válido
    </div>
  </div>
</div>

<label for="inputUf" class="sr-only">Uf</label>
<input type="text" id="inputUf"
       name="uf"
       placeholder="Estado"
       class="form-control mb-2 col-md-4"
       [ngClass]="{
          'is-invalid': uf.invalid && (uf.dirty || uf.touched),
          'is-valid': uf.valid && (cidade.dirty || uf.touched)
       }"
       [(ngModel)]="entrega.uf"
       #uf="ngModel"
       disabled
       required />
<div class="invalid-feedback mb-2" *ngIf="uf.invalid && (uf.dirty || uf.touched)">
  <div *ngIf="uf.errors.required">
    Cidade é de preenchimento obrigatório
  </div>
</div>

<label for="inputCidade" class="sr-only">Cidade</label>
<input type="text" id="inputCidade"
       name="cidade"
       placeholder="Cidade"
       class="form-control mb-2 col-md-4"
       [ngClass]="{
          'is-invalid': cidade.invalid && (cidade.dirty || cidade.touched),
          'is-valid': cidade.valid && (cidade.dirty || cidade.touched)
       }"
       [(ngModel)]="entrega.localidade"
       #cidade="ngModel"
       disabled
       required />
<div class="invalid-feedback mb-2" *ngIf="cidade.invalid && (cidade.dirty || cidade.touched)">
  <div *ngIf="cidade.errors.required">
    Cidade é de preenchimento obrigatório
  </div>
</div>

<div class="form-inline">
  <label for="inputEndereco" class="sr-only">Endereco</label>
  <input type="text" id="inputEndereco"
         name="endereco"
         placeholder="Bairro"
         class="form-control mb-2 col-md-3"
         [ngClass]="{
          'is-invalid': endereco.invalid && (endereco.dirty || endereco.touched),
          'is-valid': endereco.valid && (endereco.dirty || endereco.touched)
       }"
         [(ngModel)]="entrega.logradouro"
         #endereco="ngModel"
         disabled
         required />

  <label for="inputNumero" class="sr-only">Numero</label>
  <input type="number" id="inputNumero"
         name="numero"
         placeholder="n°"
         class="form-control mb-2 col-md-1"
         [ngClass]="{
          'is-invalid': numero.invalid && (numero.dirty || numero.touched),
          'is-valid': numero.valid && (numero.dirty || numero.touched)
         }"
         [(ngModel)]="entrega.numeroEndereco"
         #numero="ngModel"
         required />
  <div class="invalid-feedback mb-2" *ngIf="numero.invalid && (numero.dirty || numero.touched)">
    <div *ngIf="numero.errors.required">
      Por favor, informe o número do seu endereço
    </div>
  </div>
</div>

<div class="form-inline mb-2">
  <button class="btn btn-primary" style="margin-right:4px;" (click)="finalizarCompra()" [disabled]="ativar_spinner">
    <span class="spinner-border spinner-border-sm" *ngIf="ativar_spinner"></span>
    Finalizar
  </button>
  <button class="btn btn-secondary " [routerLink]="['/loja-efetivar']">Cancelar</button>
</div>

<div class="alert alert-danger col-md-4 mb-2" *ngIf="mensagem">
  {{mensagem}}
</div>


